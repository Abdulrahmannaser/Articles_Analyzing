{% extends init.Base %}
{% load static %}

{% block header_scripts_and_style %}
    <style type="text/css">
        .SignInForm{
            text-align: left;
        }
        .Block{
            margin: 0 0 0 0;
        }
    </style>
    <!-- Error Script -->
    <script src="{% static init.ErrorFunctionScript %}"></script>

    <!-- Message Script -->
    <script src="{% static init.TrigerMessageScript %}"></script>

    <!-- Needed Scripts -->
    <script src="{% static init.CheckLenScript %}"></script>
    <script src="{% static init.CheckinputLenScript %}"></script>
    <script src="{% static init.CheckPatternScript %}"></script>
    <script src="{% static init.ConfirmPasswordScript %}"></script>

    <!-- Main Script -->
    <script src="{% static init.SignUPScript %}"></script>
{% endblock %}

{% block header %}
    {% include init.NotLoggedHeaders %}
{% endblock %}

{% block section %}
    <div class = 'Title'>
        Sign UP
    </div>

    {% include init.MessageBox %}

    <form id='SignForm' method="post" enctype="multipart/form-data"
        class='SignInForm' action="{{ init.SignUP }}">

        {% csrf_token %}

        <div style="display: block;text-align: center;">

            <div class="Block">
                <input class="Input_Data" onfocus="Focus(this);" id='Name' name="N"
                        oninput="CheckinputLen(this, Name_Len)" type="text"
                        onblur="Blur(this);" required placeholder="Enter Your Name"
                        {% if Wrong == 'Found' %}
                            value='{{ Name }}'
                        {% endif%}>
            </div>

            <div class="Block">
                <input class="Input_Data" onfocus="Focus(this);" onchange="CheckEmail()"
                    onblur="Blur(this);" type="text" id='Email' name="E"
                    required placeholder="Enter Your Email"
                    {% if Wrong == 'Found' %}
                        value='{{ Email }}'
                    {% endif%}>
            </div>

            <div class="Block">
                <input class="Input_Data" onfocus="Focus(this);"
                       onblur="Blur(this);" id='Password' type="password"
                       oninput="CheckinputLen(this, Password_Len)"
                       required name="P" placeholder="Enter Your Password">
            </div>

            <div class="Block">
                <input class="Input_Data" onfocus="Focus(this);"
                       onblur="Blur(this);" id='ConPassword' type="password"
                       oninput="CheckinputLen(this, Password_Len)"
                       required placeholder="Re-Enter Password">
            </div>

            <div>
                <input type="submit" value="Sign UP" class='Button'>
            </div>
        </div>
    </form>
{% endblock %}

{% block footer_scripts %}
    <script type="text/javascript">
        var CheckPage = '{{ init.BackEnd_ChekcUser }}';

        var Name_Len = {{ init.Name_Len }};
        var Email_Len = {{ init.Email_Len }};
        var Password_Len = {{ init.Password_Len }};

        var Token = $("input[name='csrfmiddlewaretoken']").val();
    </script>

    <script type="text/javascript">
        {% if Wrong == 'Found' %}
            $('#Email').css('border-color','red');
        {% endif %}
    </script>

    <script type="text/javascript">
        // Errors
        var Ajax_Error = {}, JSON_Error = {};
        Ajax_Error['API'] = {{ Ajax_API }};
        Ajax_Error['Type'] = 'Ajax Error';
        Ajax_Error['Message'] = '{{ Ajax_Message }}';

        JSON_Error['API'] = {{ JSON_API }};
        JSON_Error['Type'] = 'JSON Error';
        JSON_Error['Message'] = '{{ JSON_Message }}';
    </script>
{% endblock %}
